<!DOCTYPE html>
<html>
<head>
    <title>AI Farmer Adivsor</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <!-- Header -->
    <header>
        <h1>üë®‚Äçüåæ Krishi Mitr</h1>
        <h2 class="first-subheader">üòä Aapka Krishi Salahkaar!</h2>
    </header>
   
    <!-- Repayment Notifications -->
    <div class="container">
        <!-- Left column: Chat + Notifications -->
        <!-- Left column: Notifications (fixed area) + Chat (fills remaining space) -->
        <div class="left-panel">
        <!-- notification section: fixed footprint so new items don't push chat-box -->
        <div class="section notification-section">
            <h2>üí∞ Repayment Updates</h2>
            <div id="notificationList" class="notification-box">
            <!-- frontend will append .notification-item elements here -->
            </div>
        </div>

        <!-- Chat: fills remaining vertical space inside left-panel -->
        <div class="section chat-box">
            <h2>ü§ñ General Queries</h2>

            <!-- Messages area -->
            <div id="messages" class="messages">
            <div class="message bot">Hello! How can I help you today?</div>
            </div>

            <!-- Loaders (appear above the footer controls) -->
            <div class="loader-row">
            <div id="thinkingLoader" class="loader thinking-loader" style="display: none;">
                ü§î Thinking...
                <span class="dot"></span><span class="dot"></span><span class="dot"></span>
            </div>

            <div id="recordingLoader" class="loader recording-loader" style="display: none;">
                üéôÔ∏è Listening
                <span class="dot"></span><span class="dot"></span><span class="dot"></span>
            </div>
            </div>

            <!-- Footer: input + send + start/stop (pinned at bottom) -->
            <div class="chat-footer">
            <form id="queryForm" class="query-form" style="flex:1; min-width:0;">
                <div class="query-box" style="width:100%;">
                <input type="text" name="query" placeholder="Type your question..." autocomplete="off" style="flex:1; padding:8px;">
                <button type="submit">Send</button>
                </div>
            </form>

            <div class="button-row">
                <button id="startBtn" type="button">üéôÔ∏è Start</button>
                <button id="stopBtn" type="button" disabled>‚èπ Stop</button>
            </div>
            </div>
        </div>
        </div>

        <div class="right-panel">
            <div class="section info-box">
                 <!-- Information Input Box -->
                <h2>üìã Farmer Loan Details</h2>
                <form id="infoForm" class="info-form">
                    <div class="field-group">
                        <label for="district">District:</label>
                        <select id="district" name="district" required>
                            <option value="">Select district</option>
                            <option value="ashoknagar">Ashoknagar</option>
                            <option value="bhopal">Bhopal</option>
                            <option value="indore">Indore</option>
                        </select>
                    </div>

                    <div class="field-group">
                        <label for="crop">Crop:</label>
                        <select id="crop" name="crop" required>
                            <option value="">Select crop</option>
                            <option value="wheat">Wheat</option>
                            <option value="rice">Rice</option>
                            <option value="maize">Maize</option>
                        </select>
                    </div>

                    <div class="field-group">
                        <label for="loan">Loan Amount (‚Çπ):</label>
                        <input type="number" id="loan" name="loan" placeholder="Enter loan amount" required min="0" step="1000">
                    </div>

                    <div class="field-group">
                        <label for="interest">Interest Rate (%):</label>
                        <input type="number" id="interest" name="interest" placeholder="Enter interest rate" required min="0" step="0.01">
                    </div>

                    <div class="field-group">
                        <label for="area">Area of Farm (acres):</label>
                        <input type="number" id="area" name="area" placeholder="Enter farm area" required min="0" step="0.01">
                    </div>
                    <div class="field-group">
                        <label for="non-farm-inc">Non-Farm Income (‚Çπ):</label>
                        <input type="number" id="non-farm-inc" name="non-farm-inc" placeholder="Enter income" required min="0" step="0.01">
                    </div>
                    <div class="field-group">
                        <label for="ins-prem">Insurance Premium (‚Çπ):</label>
                        <input type="number" id="ins-prem" name="ins-prem" placeholder="Enter insurance premium" required min="0" step="0.01">
                    </div>
                    <div class="field-group">
                        <label for="tenure">Tenure (months):</label>
                        <input type="number" id="tenure" name="tenure" placeholder="Enter tenure" required min="0" step="1">
                    </div>
                    <div class="field-group">
                        <label for="input-cost">Input Cost (‚Çπ):</label>
                        <input type="number" id="input-cost" name="input-cost" placeholder="Enter input cost" required min="0" step="1">
                    </div>
                    <div class="field-group">
                        <label for="monthly-exp">Monthly Expenses (‚Çπ):</label>
                        <input type="number" id="monthly-exp" name="monthly-exp" placeholder="Enter monthly expense" required min="0" step="1">
                    </div>
                    <div class="field-group">
                        <label for="year">Year:</label>
                        <select id="year" name="year" required>
                            <option value="">Select year</option>
                            <option value="2023">2023</option>
                            <option value="2024">2024</option>
                            <option value="2025">2025</option>
                        </select>
                    </div>

                    <div class="field-group">
                        <label for="month">Month:</label>
                        <select id="month" name="month" required>
                            <option value="">Select month</option>
                            <option value="February">February</option>
                            <option value="November">November</option>
                        </select>
                    </div>
                    <button type="submit">Submit</button>
                </form>
            </div>
        </div>
    </div>
    
    <!-- Link external JS -->
    <script src="{{ url_for('static', filename='js/recording.js') }}"></script>
</body>
</html>
